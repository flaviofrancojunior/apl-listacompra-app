<div mat-dialog-title>
    <div class="d-flex flex-align-center mb-6">
        <div class="s1 fg-support03-medium">{{ _modoEdicao ? 'Alterar Histórico Padrão' : 'Novo Histórico Padrão' }}</div>
        <div class="title-divider"></div>
    </div>
</div>
<mat-dialog-content>
    <div class="d-flex flex-column pos-relative gap-4" style="width: 560px" [formGroup]="_form">
        <sfr-spinner [name]="estado.spinnerId" [text]="estado.spinnerMensagem"></sfr-spinner>

        <div style="display: grid; grid-template-columns: 1fr 1fr; grid-gap: 16px">
            <div class="d-flex flex-column gap-4">
                <sfr-input
                    type="texto"
                    [label]="true"
                    placeholder="Código"
                    [invalid]="_form.hasError('Erro') || _form.hasError('CodigoExistente')"
                    [invalidText]="_form.hasError('CodigoExistente') ? 'O código digitado já foi cadastrado.' : ''"
                    [control]="_form"
                    controlName="codigo"></sfr-input>

                <sfr-input type="texto" [label]="true" placeholder="Histórico conta" [invalid]="_form.hasError('Erro')" [control]="_form" controlName="historicoConta">
                    <sfr-input-icon icon="duplicate" [tooltip]="{ text: 'Copiar texto', position: 'right' }" (clicarEvento)="copiar('historicoConta')"></sfr-input-icon>
                </sfr-input>
            </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; grid-gap: 16px">
            <sfr-input type="texto" [label]="true" placeholder="Histórico cliente" [invalid]="_form.hasError('Erro')" [control]="_form" controlName="historicoCliente"></sfr-input>
            <sfr-input type="texto" [label]="true" placeholder="Histórico banco" [invalid]="_form.hasError('Erro')" [control]="_form" controlName="historicoBanco"></sfr-input>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; grid-gap: 16px">
            <div>
                <div class="s3 fg-neutral-darkest mb-2">Nº Débito cliente</div>
                <sfr-input type="texto" [label]="false" placeholder="Ex: 0000" [invalid]="_form.hasError('Erro')" [control]="_form" controlName="debitoCliente"></sfr-input>
            </div>
            <div>
                <div class="s3 fg-neutral-darkest mb-2">Nº Débito banco</div>
                <sfr-input type="texto" [label]="false" placeholder="Ex: 0000" [invalid]="_form.hasError('Erro')" [control]="_form" controlName="debitoBanco"></sfr-input>
            </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; grid-gap: 16px">
            <div>
                <div class="s3 fg-neutral-darkest mb-2">Nº Crédito cliente</div>
                <sfr-input type="texto" [label]="false" placeholder="Ex: 0000" [invalid]="_form.hasError('Erro')" [control]="_form" controlName="creditoCliente"></sfr-input>
            </div>
            <div>
                <div class="s3 fg-neutral-darkest mb-2">Nº Crédito banco</div>
                <sfr-input type="texto" [label]="false" placeholder="Ex: 0000" [invalid]="_form.hasError('Erro')" [control]="_form" controlName="creditoBanco"></sfr-input>
            </div>
        </div>

        <div>
            <div class="s3 fg-neutral-darkest mb-2">Ativo</div>
            <sfr-switch checkedText="Sim" uncheckedText="Não" [control]="_form" controlName="ativo"></sfr-switch>
        </div>
    </div>
</mat-dialog-content>
<mat-dialog-actions class="gap-4 flex-justify-end">
    <button sfr-button-outline--primary size="fit" [disabled]="estado.carregando" (clicarEvento)="cancelar()">Cancelar</button>
    <button sfr-button-flat--primary size="fit" [disabled]="_form.invalid || estado.carregando" (clicarEvento)="_modoEdicao ? alterarHistoricoPadrao() : cadastrarHistoricoPadrao()">{{ _modoEdicao ? 'Alterar' : 'Cadastrar' }}</button>
</mat-dialog-actions>
