<div class="d-flex flex-align-center mb-6">
    <div class="s1 fg-support03-medium">Moedas Cadastradas</div>
    <div class="title-divider mr-6"></div>
    <button sfr-button-outline--primary [disabled]="estado.carregando" (clicarEvento)="cadastrarMoeda()">Cadastrar nova moeda</button>
</div>
<div class="mb-10">
    <sfr-table-filter [config]="_filtrosExibidos" [dadosTabela]="_listaMoedas"></sfr-table-filter>
</div>

<div class="w-100 pos-relative">
    <sfr-spinner [name]="estado.spinnerId" [text]="estado.spinnerMensagem"></sfr-spinner>
    <mat-table matSort [dataSource]="_listaMoedas" class="w-100">
        <ng-container matColumnDef="id">
            <mat-header-cell mat-sort-header *matHeaderCellDef sortActionDescription="Ordenar por id">ID</mat-header-cell>
            <mat-cell *matCellDef="let element">{{ element.id }}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="codigo">
            <mat-header-cell mat-sort-header *matHeaderCellDef sortActionDescription="Ordenar por código da moeda">Cód. Moeda</mat-header-cell>
            <mat-cell *matCellDef="let element">{{ element.codigo }}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="nome">
            <mat-header-cell mat-sort-header *matHeaderCellDef sortActionDescription="Ordenar por nome">Nome</mat-header-cell>
            <mat-cell *matCellDef="let element">{{ element.nome }}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="simbolo">
            <mat-header-cell mat-sort-header *matHeaderCellDef sortActionDescription="Ordenar por símbolo">Símbolo</mat-header-cell>
            <mat-cell *matCellDef="let element">{{ element.simbolo }}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="codigoPaisOrigem">
            <mat-header-cell mat-sort-header *matHeaderCellDef sortActionDescription="Ordenar por código do país de origem">Cód. País de Origem</mat-header-cell>
            <mat-cell *matCellDef="let element">{{ element.paisOrigemCodigo }}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="paisOrigem">
            <mat-header-cell mat-sort-header *matHeaderCellDef sortActionDescription="Ordenar por país de origem">País de Origem</mat-header-cell>
            <mat-cell *matCellDef="let element">{{ element.paisOrigem | titlecase }}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="importadoBC">
            <mat-header-cell mat-sort-header *matHeaderCellDef sortActionDescription="Ordenar por importação BC">Importada BC</mat-header-cell>
            <mat-cell *matCellDef="let element">
                <div class="w-100 d-flex flex-justify-start">
                    <div class="p-1 fg-neutral-white w-fit border-radius-1" [ngClass]="element.importadoBC ? 'bg-success-medium' : 'bg-danger-medium'">{{ element.importadoBCExibicao }}</div>
                </div>
            </mat-cell>
        </ng-container>

        <ng-container matColumnDef="acao-2">
            <mat-header-cell *matHeaderCellDef></mat-header-cell>
            <mat-cell *matCellDef="let element; let i = index">
                <button sfr-button-flat--transparent--rounded class="fg-inherit bg-inherit-hover" matTooltip="Editar" matTooltipPosition="above" (clicarEvento)="alterarMoeda(element)">
                    <sfr-icon icon="edit" [iconClass]="['fg-inherit', 's2']"></sfr-icon>
                </button>
                <button *ngIf="!element.importadoBCExibicao" sfr-button-flat--transparent--rounded class="fg-inherit bg-inherit-hover" matTooltip="Remover" matTooltipPosition="above" (clicarEvento)="removerMoeda(element.id)">
                    <sfr-icon icon="delete" [iconClass]="['fg-inherit', 's2']"></sfr-icon>
                </button>
            </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="_colunasExibidas"></mat-header-row>
        <mat-row *matRowDef="let row; columns: _colunasExibidas"></mat-row>
        <div *matNoDataRow class="p1 fg-neutral-medium p-4">Sem dados para exibir no momento.</div>
    </mat-table>
    <sfr-table-paginator [dadosTabela]="_listaMoedas"></sfr-table-paginator>
</div>
